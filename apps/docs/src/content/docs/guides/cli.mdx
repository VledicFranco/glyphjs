---
title: CLI Tool
description: Use the GlyphJS CLI to compile, render, export, and serve documents from the command line.
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

## Overview

The `@glyphjs/cli` package provides a command-line interface for working with GlyphJS documents outside of a browser. You can compile Markdown to IR, render UI blocks as PNG screenshots, export to HTML/PDF/DOCX, and run a live-reload dev server.

## Installation

<Tabs>
<TabItem label="npm">
```bash
npm install -g @glyphjs/cli
```
</TabItem>
<TabItem label="pnpm">
```bash
pnpm add -g @glyphjs/cli
```
</TabItem>
<TabItem label="npx (no install)">
```bash
npx @glyphjs/cli compile document.md
```
</TabItem>
</Tabs>

**Requirements:** Node.js 20 or later.

## Commands

### compile

Compile a Markdown file to GlyphJS IR (JSON).

```bash
glyphjs compile document.md -o output.json
```

The `compile` command parses your Markdown, extracts `ui:` fenced code blocks, validates the YAML data against component schemas, and outputs the intermediate representation as JSON.

| Flag | Description | Default |
|------|-------------|---------|
| `-o, --output <path>` | Write JSON to file instead of stdout | stdout |
| `--compact` | Output minified JSON | |
| `-v, --verbose` | Show diagnostics on stderr | |

**Examples:**

```bash
# Compile and pretty-print to stdout
glyphjs compile document.md

# Compile to a file with minified output
glyphjs compile document.md -o ir.json --compact

# Pipe from stdin
cat document.md | glyphjs compile -
```

### render

Render `ui:` blocks from a Markdown file to PNG screenshots.

```bash
glyphjs render document.md -d ./screenshots/
```

Each `ui:` block in the document is rendered in a headless Chromium browser and saved as a high-DPI PNG image.

| Flag | Description | Default |
|------|-------------|---------|
| `-o, --output <path>` | Output file or directory | `<stem>-<blockId>.png` |
| `-d, --output-dir <dir>` | Output directory for screenshots | |
| `-t, --theme <theme>` | Base theme: `light` or `dark` | `light` |
| `--theme-file <path>` | YAML file with custom theme variables | |
| `-b, --block-id <id>` | Render only this block | all blocks |
| `-w, --width <px>` | Viewport width in pixels | `1280` |
| `--device-scale-factor <n>` | Device scale factor for HiDPI | `2` |
| `-v, --verbose` | Show progress on stderr | |

**Examples:**

```bash
# Render all blocks to a directory
glyphjs render document.md -d ./screenshots/

# Render a single block
glyphjs render document.md -b chart-1 -o hero-chart.png

# Render with custom theme
glyphjs render document.md -d ./out/ --theme-file warmcraft.yaml
```

:::caution[Prerequisite]
The `render` command requires Playwright. Install it with:
```bash
npm install playwright
```
:::

### export

Export a Markdown file to HTML, PDF, Markdown, or DOCX.

```bash
glyphjs export document.md --format html -o output.html
```

| Flag | Description | Default |
|------|-------------|---------|
| `--format <fmt>` | Output format: `html`, `pdf`, `md`, `docx` | **(required)** |
| `-o, --output <path>` | Write to file instead of stdout | stdout |
| `-t, --theme <theme>` | Base theme: `light` or `dark` | `light` |
| `--theme-file <path>` | YAML file with custom theme variables | |
| `-w, --width <px>` | Document width in pixels | `800` |
| `--title <title>` | Override document title | |
| `--page-size <size>` | PDF page size (e.g. `Letter`, `A4`) | `Letter` |
| `--margin <margin>` | PDF margin in CSS shorthand | `1in` |
| `--landscape` | Use landscape orientation for PDF | |
| `--images-dir <dir>` | Directory for rendered block images (md export) | `./images/` |
| `-v, --verbose` | Show diagnostics on stderr | |

**Format details:**

- **html** — Self-contained HTML with inlined CSS and server-rendered components. No external dependencies.
- **pdf** — Renders components via Playwright, then prints to PDF. Requires Playwright.
- **md** — Replaces `ui:` blocks with PNG screenshots and outputs clean Markdown. Requires Playwright.
- **docx** — Converts via Pandoc. UI blocks are rendered as images and embedded. Requires Playwright and Pandoc.

**Examples:**

```bash
# Export to a styled HTML file
glyphjs export document.md --format html -o report.html --theme-file warmcraft.yaml

# Export to PDF with A4 pages
glyphjs export document.md --format pdf -o report.pdf --page-size A4

# Export to Markdown with images in a custom directory
glyphjs export document.md --format md -o README.md --images-dir ./assets/

# Export to DOCX
glyphjs export document.md --format docx -o report.docx
```

### serve

Start a development server with live reload.

```bash
glyphjs serve document.md
```

The server compiles your Markdown to HTML and serves it on `localhost`. When you edit the source file, the browser reloads automatically via Server-Sent Events.

| Flag | Description | Default |
|------|-------------|---------|
| `-p, --port <port>` | Port to listen on | `3000` |
| `-t, --theme <theme>` | Base theme: `light` or `dark` | `light` |
| `--theme-file <path>` | YAML file with custom theme variables | |
| `--open` | Open browser on start | |
| `-v, --verbose` | Show diagnostics on stderr | |

**Examples:**

```bash
# Start with defaults on port 3000
glyphjs serve document.md

# Custom port and auto-open browser
glyphjs serve document.md --port 8080 --open

# Serve with a custom theme
glyphjs serve document.md --theme-file warmcraft.yaml -v
```

## Custom Themes

You can customize the appearance of all components by providing a YAML theme file. The file specifies a base theme to extend and a set of CSS custom property overrides:

```yaml
base: light   # or "dark"

variables:
  --glyph-accent: "#F56400"
  --glyph-surface: "#F5EDE4"
  --glyph-border: "#E0D6CC"
```

Every `--glyph-*` CSS custom property can be overridden. See the [Theme Variables](/glyphjs/reference/theme-variables/) reference for the full list.

Pass your theme file to any command:

```bash
glyphjs export document.md --format html --theme-file my-theme.yaml -o styled.html
glyphjs serve document.md --theme-file my-theme.yaml
glyphjs render document.md --theme-file my-theme.yaml -d ./screenshots/
```

## Bundled Themes

The CLI ships with example themes you can use directly or as starting points for your own:

| Theme | Description |
|-------|-------------|
| **warmcraft** | Warm tones with earthy oranges, soft creams, and natural accents |

Use a bundled theme after a global install:

```bash
glyphjs export document.md --format html \
  --theme-file node_modules/@glyphjs/cli/themes/warmcraft.yaml \
  -o output.html
```

## Prerequisites

Different commands have different external dependencies:

| Command / Format | Dependency | Install |
|-----------------|------------|---------|
| `render` | Playwright | `npm install playwright` |
| `export --format pdf` | Playwright | `npm install playwright` |
| `export --format md` | Playwright | `npm install playwright` |
| `export --format docx` | Playwright + Pandoc | `npm install playwright` + [pandoc.org](https://pandoc.org/) |
| `compile`, `serve`, `export --format html` | None | Built-in |
